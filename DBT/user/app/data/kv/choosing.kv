[ProductButton@BoxLayout]:
    orientation: "vertical"
    prod_id: ctx.id
    added: False

    Image:
        size_hint: (None, 0.6)
        pos_hint: {"center_x": 0.5}
        width: self.height
        source: ctx.img

    MDLabel:
        size_hint_y: 0.2
        text: ctx.name
        font_style: "Title"
        halign: "center"
        markup: True

    BoxLayout:
        size_hint_y: 0.2
        padding: 5
        MDLabel:
            text: ctx.price
            theme_text_color: "Custom"
            text_color: 0, 0.8, 0, 1
            markup: True
            font_style: "Title"
            valign: "center"

        MDButton:
            style: "tonal"
            size_hint: (0.7, None)
            id: btn
            md_bg_color: 1, 0.3, 0.3, 1

            MDButtonText:
                id: btn_text
                text: "Добавить в корзину"


MDScreen:
    md_bg_color: self.theme_cls.backgroundColor
    name: "choose"

    BoxLayout:
        orientation: "vertical"

        MDTopAppBar:
            theme_bg_color: "Custom"
            md_bg_color: self.theme_cls.primaryContainerColor

            pos_hint: {"center_x": 0.5, "center_y": 0.95}
            size_hint_y: 0.1

            MDTopAppBarTitle:
                text: "MyApp"

            MDTopAppBarTrailingButtonContainer
                MDActionTopAppBarButton:
                    icon: "cart-variant"
                    on_release: app.update_cart()

        ScrollView:
            size_hint_y: 0.07
            do_scroll_y: False
            do_scroll_x: True
            width: "2000dp"
            BoxLayout:
                pos_hint: {"center_x": 0.5}
                orientation: "horizontal"
                id: sections
                width: "2000dp"
                spacing: "30dp"
                padding: "30dp",0

        ScrollView:
            GridLayout:
                row_force_default: True
                row_default_height: "300dp"
                padding: "5dp"
                spacing: "10dp"
                cols: 2
                size_hint_y: None
                id: btns